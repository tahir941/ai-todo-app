{"ast":null,"code":"// src/redux/slices/taskSlice.js\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\n// Fetch tasks thunk\nexport const fetchTasks = createAsyncThunk('tasks/fetchTasks', async (_, thunkAPI) => {\n  try {\n    const response = await axios.get('/api/tasks');\n    return response.data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data);\n  }\n});\n\n// Add task thunk\nexport const addTaskAsync = createAsyncThunk('tasks/addTaskAsync', async (taskData, thunkAPI) => {\n  try {\n    const response = await axios.post('/api/tasks', taskData);\n    return response.data; // assuming response returns the created task with ID\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data);\n  }\n});\n\n// Update task thunk\nexport const updateTaskAsync = createAsyncThunk('tasks/updateTaskAsync', async (taskData, thunkAPI) => {\n  try {\n    const response = await axios.put(`/api/tasks/${taskData.id}`, taskData);\n    return response.data; // updated task data\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data);\n  }\n});\n\n// Delete task thunk\nexport const deleteTaskAsync = createAsyncThunk('tasks/deleteTaskAsync', async (taskId, thunkAPI) => {\n  try {\n    await axios.delete(`/api/tasks/${taskId}`);\n    return taskId; // return id so we can remove from state\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data);\n  }\n});\nconst taskSlice = createSlice({\n  name: 'tasks',\n  initialState: {\n    tasks: [],\n    loading: false,\n    error: null\n  },\n  reducers: {\n    // Optional reducers for optimistic updates can go here\n  },\n  extraReducers: builder => {\n    builder\n    // fetch tasks\n    .addCase(fetchTasks.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(fetchTasks.fulfilled, (state, action) => {\n      state.loading = false;\n      state.tasks = action.payload;\n    }).addCase(fetchTasks.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    })\n\n    // add task\n    .addCase(addTaskAsync.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(addTaskAsync.fulfilled, (state, action) => {\n      state.loading = false;\n      state.tasks.push(action.payload);\n    }).addCase(addTaskAsync.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    })\n\n    // update task\n    .addCase(updateTaskAsync.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(updateTaskAsync.fulfilled, (state, action) => {\n      state.loading = false;\n      const index = state.tasks.findIndex(task => task.id === action.payload.id);\n      if (index !== -1) {\n        state.tasks[index] = action.payload;\n      }\n    }).addCase(updateTaskAsync.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    })\n\n    // delete task\n    .addCase(deleteTaskAsync.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(deleteTaskAsync.fulfilled, (state, action) => {\n      state.loading = false;\n      state.tasks = state.tasks.filter(task => task.id !== action.payload);\n    }).addCase(deleteTaskAsync.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    });\n  }\n});\nexport default taskSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","fetchTasks","_","thunkAPI","response","get","data","error","rejectWithValue","addTaskAsync","taskData","post","updateTaskAsync","put","id","deleteTaskAsync","taskId","delete","taskSlice","name","initialState","tasks","loading","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","push","index","findIndex","task","filter","reducer"],"sources":["C:/Users/ENGINES/Desktop/ai-todo-app/client/src/redux/slices/taskSlice.js"],"sourcesContent":["// src/redux/slices/taskSlice.js\r\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\n// Fetch tasks thunk\r\nexport const fetchTasks = createAsyncThunk('tasks/fetchTasks', async (_, thunkAPI) => {\r\n  try {\r\n    const response = await axios.get('/api/tasks');\r\n    return response.data;\r\n  } catch (error) {\r\n    return thunkAPI.rejectWithValue(error.response.data);\r\n  }\r\n});\r\n\r\n// Add task thunk\r\nexport const addTaskAsync = createAsyncThunk('tasks/addTaskAsync', async (taskData, thunkAPI) => {\r\n  try {\r\n    const response = await axios.post('/api/tasks', taskData);\r\n    return response.data; // assuming response returns the created task with ID\r\n  } catch (error) {\r\n    return thunkAPI.rejectWithValue(error.response.data);\r\n  }\r\n});\r\n\r\n// Update task thunk\r\nexport const updateTaskAsync = createAsyncThunk('tasks/updateTaskAsync', async (taskData, thunkAPI) => {\r\n  try {\r\n    const response = await axios.put(`/api/tasks/${taskData.id}`, taskData);\r\n    return response.data; // updated task data\r\n  } catch (error) {\r\n    return thunkAPI.rejectWithValue(error.response.data);\r\n  }\r\n});\r\n\r\n// Delete task thunk\r\nexport const deleteTaskAsync = createAsyncThunk('tasks/deleteTaskAsync', async (taskId, thunkAPI) => {\r\n  try {\r\n    await axios.delete(`/api/tasks/${taskId}`);\r\n    return taskId; // return id so we can remove from state\r\n  } catch (error) {\r\n    return thunkAPI.rejectWithValue(error.response.data);\r\n  }\r\n});\r\n\r\nconst taskSlice = createSlice({\r\n  name: 'tasks',\r\n  initialState: {\r\n    tasks: [],\r\n    loading: false,\r\n    error: null,\r\n  },\r\n  reducers: {\r\n    // Optional reducers for optimistic updates can go here\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      // fetch tasks\r\n      .addCase(fetchTasks.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(fetchTasks.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.tasks = action.payload;\r\n      })\r\n      .addCase(fetchTasks.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n\r\n      // add task\r\n      .addCase(addTaskAsync.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(addTaskAsync.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.tasks.push(action.payload);\r\n      })\r\n      .addCase(addTaskAsync.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n\r\n      // update task\r\n      .addCase(updateTaskAsync.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(updateTaskAsync.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        const index = state.tasks.findIndex(task => task.id === action.payload.id);\r\n        if (index !== -1) {\r\n          state.tasks[index] = action.payload;\r\n        }\r\n      })\r\n      .addCase(updateTaskAsync.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n\r\n      // delete task\r\n      .addCase(deleteTaskAsync.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(deleteTaskAsync.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.tasks = state.tasks.filter(task => task.id !== action.payload);\r\n      })\r\n      .addCase(deleteTaskAsync.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport default taskSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}